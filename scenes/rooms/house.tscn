[gd_scene load_steps=22 format=4 uid="uid://bcxpmvoc2yiq5"]

[ext_resource type="PackedScene" uid="uid://bcyrg6u8o2mbx" path="res://scenes/player/player.tscn" id="1_kanab"]
[ext_resource type="TileSet" uid="uid://dq8qupt0al5v5" path="res://assets/tilemaps/tilesets/house_ts.tres" id="2_jhjpb"]
[ext_resource type="PackedScene" uid="uid://clmsxd7m8li2f" path="res://scenes/environment/interactables/board.tscn" id="5_u3fao"]
[ext_resource type="PackedScene" uid="uid://dblxc7qly0lmm" path="res://scenes/ui/interact_ui.tscn" id="6_vty7d"]
[ext_resource type="PackedScene" uid="uid://cpc43ol1uaidh" path="res://scenes/ui/dialogue_system.tscn" id="7_8eaee"]
[ext_resource type="Script" uid="uid://boek1j6vumefi" path="res://scripts/environment/interactables/interact.gd" id="7_60327"]
[ext_resource type="PackedScene" uid="uid://bbq6ah1xqgh02" path="res://scenes/ui/board_ui.tscn" id="7_vql73"]
[ext_resource type="PackedScene" uid="uid://bp7vqhd8dglf2" path="res://scenes/environment/transitions/fade_transition.tscn" id="9_60327"]
[ext_resource type="Texture2D" uid="uid://dcy1cojxpyuii" path="res://assets/images/point_light.png" id="10_25qyn"]
[ext_resource type="PackedScene" uid="uid://dys1r6cugr656" path="res://scenes/environment/transitions/change_scene.tscn" id="11_v6w0j"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_25qyn"]
size = Vector2(215, 148)

[sub_resource type="CircleShape2D" id="CircleShape2D_60327"]
radius = 52.009613

[sub_resource type="CircleShape2D" id="CircleShape2D_25qyn"]
radius = 73.061615

[sub_resource type="CircleShape2D" id="CircleShape2D_v6w0j"]
radius = 52.03845

[sub_resource type="CircleShape2D" id="CircleShape2D_momy1"]
radius = 51.24451

[sub_resource type="CircleShape2D" id="CircleShape2D_kvtx8"]
radius = 76.02631

[sub_resource type="CircleShape2D" id="CircleShape2D_ygvd6"]
radius = 48.010414

[sub_resource type="CircleShape2D" id="CircleShape2D_y8gu5"]
radius = 45.276924

[sub_resource type="CircleShape2D" id="CircleShape2D_awgjw"]
radius = 50.039986

[sub_resource type="CircleShape2D" id="CircleShape2D_x02gy"]
radius = 42.0119

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_25qyn"]
radius = 30.0
height = 72.0

[node name="House" type="Node2D"]

[node name="FloorLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAOAAAAAgAHAAUAAAAOAAEAAgAHAAQAAAAOAAIAAgAHAAUAAAAOAAMAAgAHAAQAAAAPAAAAAgAIAAUAAAAPAAEAAgAIAAQAAAAQAAAAAgAHAAUAAAAQAAEAAgAHAAQAAAARAAAAAgAIAAUAAAARAAEAAgAIAAQAAAASAAAAAgAHAAUAAAASAAEAAgAHAAQAAAATAAAAAgAIAAUAAAATAAEAAgAIAAQAAAAUAAAAAgAHAAUAAAAUAAEAAgAHAAQAAAAVAAAAAgAIAAUAAAAVAAEAAgAIAAQAAAAPAAIAAgAIAAUAAAAPAAMAAgAIAAQAAAAQAAIAAgAHAAUAAAAQAAMAAgAHAAQAAAARAAIAAgAIAAUAAAARAAMAAgAIAAQAAAASAAIAAgAHAAUAAAASAAMAAgAHAAQAAAATAAIAAgAIAAUAAAATAAMAAgAIAAQAAAAUAAIAAgAHAAUAAAAUAAMAAgAHAAQAAAAVAAIAAgAIAAUAAAAVAAMAAgAIAAQAAAAQAAQAAgAHAAUAAAAQAAUAAgAHAAUAAAARAAQAAgAIAAUAAAARAAUAAgAHAAUAAAAQAAYAAgAHAAQAAAAQAAcAAgAHAAUAAAARAAYAAgAHAAQAAAARAAcAAgAHAAUAAAAPAAgAAgAIAAUAAAAPAAkAAgAIAAQAAAAQAAgAAgAHAAQAAAAQAAkAAgAHAAUAAAARAAgAAgAHAAUAAAARAAkAAgAIAAUAAAASAAgAAgAIAAUAAAASAAkAAgAHAAUAAAATAAgAAgAHAAUAAAATAAkAAgAIAAUAAAAUAAgAAgAIAAUAAAAUAAkAAgAHAAUAAAAVAAgAAgAHAAUAAAAVAAkAAgAIAAUAAAAWAAkAAgAHAAUAAAAXAAkAAgAIAAUAAAAWAAwAAgAHAAQAAAAWAA0AAgAHAAUAAAAXAAwAAgAIAAQAAAAXAA0AAgAIAAUAAAAWAAoAAgAHAAQAAAAWAAsAAgAHAAUAAAAXAAoAAgAIAAQAAAAXAAsAAgAIAAUAAAAUAAoAAgAHAAQAAAAUAAsAAgAHAAUAAAAVAAoAAgAIAAQAAAAVAAsAAgAIAAUAAAASAAoAAgAHAAQAAAASAAsAAgAHAAUAAAATAAoAAgAIAAQAAAATAAsAAgAIAAUAAAAQAAoAAgAHAAQAAAAQAAsAAgAHAAUAAAARAAoAAgAIAAQAAAARAAsAAgAIAAUAAAAPAAoAAgAIAAUAAAAPAAsAAgAIAAQAAAAPAAwAAgAIAAQAAAAPAA0AAgAIAAUAAAAQAAwAAgAHAAQAAAAQAA0AAgAHAAUAAAARAAwAAgAIAAQAAAARAA0AAgAIAAUAAAASAAwAAgAHAAQAAAASAA0AAgAHAAUAAAATAAwAAgAIAAQAAAATAA0AAgAIAAUAAAAUAAwAAgAHAAQAAAAUAA0AAgAHAAUAAAAVAAwAAgAIAAQAAAAVAA0AAgAIAAUAAAAYAAwAAgAHAAUAAAAYAA0AAgAHAAUAAAAZAAwAAgAIAAUAAAAZAA0AAgAIAAUAAAAaAAwAAgAHAAUAAAAaAA0AAgAHAAQAAAAbAAwAAgAIAAUAAAAbAA0AAgAIAAQAAAAgAAkAAgAHAAUAAAAhAAkAAgAIAAUAAAAeAAkAAgAHAAUAAAAfAAkAAgAIAAUAAAAcAAkAAgAHAAUAAAAdAAkAAgAIAAUAAAAcAAoAAgAHAAQAAAAcAAsAAgAHAAUAAAAdAAoAAgAIAAQAAAAdAAsAAgAIAAUAAAAcAAwAAgAHAAQAAAAcAA0AAgAHAAUAAAAdAAwAAgAIAAQAAAAdAA0AAgAIAAUAAAAeAAwAAgAHAAQAAAAeAA0AAgAHAAUAAAAfAAwAAgAIAAQAAAAfAA0AAgAIAAUAAAAeAAoAAgAHAAQAAAAeAAsAAgAHAAUAAAAfAAoAAgAIAAQAAAAfAAsAAgAIAAUAAAAgAAoAAgAHAAQAAAAgAAsAAgAHAAUAAAAhAAoAAgAIAAQAAAAhAAsAAgAIAAUAAAAgAAwAAgAHAAQAAAAgAA0AAgAHAAUAAAAhAAwAAgAIAAQAAAAhAA0AAgAIAAUAAAAYAAsAAgAHAAQAAAAZAAsAAgAIAAQAAAAaAAsAAgAHAAQAAAAbAAsAAgAIAAQAAAASAAcAAgAIAAUAAAATAAcAAgAHAAQAAAAUAAcAAgAIAAQAAAAVAAcAAgAHAAQAAAAPAAcAAgAIAAQAAAAaAAkAAgAHAAQAAAAaAAoAAgAHAAUAAAAbAAkAAgAIAAQAAAAbAAoAAgAIAAUAAAASAAQAAgAHAAUAAAASAAUAAgAIAAUAAAASAAYAAgAIAAQAAAAOAP//AgAHAAQAAAAPAP//AgAIAAQAAAASAP//AgAHAAQAAAATAP//AgAIAAQAAAAUAP//AgAHAAQAAAAVAP//AgAIAAQAAAAQAP//AgAHAAQAAAARAP//AgAIAAQAAAAOAAcAAgAHAAQAAAAOAAgAAgAHAAUAAAAOAAkAAgAHAAQAAAAOAAoAAgAHAAUAAAAOAAsAAgAHAAQAAAAOAAwAAgAHAAQAAAAOAA0AAgAHAAUAAAA=")
tile_set = ExtResource("2_jhjpb")

[node name="WallLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAPAAUAAgABAAIAAAAPAAYAAgABAAMAAAAPAAcAAgABAAQAAAATAAUAAgABAAIAAAATAAYAAgABAAMAAAATAAcAAgABAAQAAAAUAAUAAgABAAIAAAAUAAYAAgABAAMAAAAUAAcAAgABAAQAAAAVAAUAAgAEAAAAAAAVAAYAAgAEAAEAAAAVAAcAAgAEAAIAAAAYAAkAAgABAAIAAAAYAAoAAgABAAMAAAAYAAsAAgABAAQAAAAZAAkAAgABAAIAAAAZAAoAAgABAAMAAAAZAAsAAgABAAQAAAAaAAcAAgADAAAAAAAaAAgAAgAHAAAAAAAaAAkAAgAHAAEAAAAbAAcAAgABAAIAAAAbAAgAAgABAAMAAAAbAAkAAgABAAQAAAAcAAcAAgABAAIAAAAcAAgAAgABAAMAAAAcAAkAAgABAAQAAAAdAAcAAgABAAIAAAAdAAgAAgABAAMAAAAdAAkAAgABAAQAAAAeAAcAAgABAAIAAAAeAAgAAgABAAMAAAAeAAkAAgABAAQAAAAfAAcAAgABAAIAAAAfAAgAAgABAAMAAAAfAAkAAgABAAQAAAAgAAcAAgABAAIAAAAgAAgAAgABAAMAAAAgAAkAAgABAAQAAAAhAAcAAgAEAAAAAAAhAAgAAgAEAAEAAAAhAAkAAgAEAAIAAAAQAAUAAgACAAIAAAAQAAYAAgACAAMAAAAQAAcAAgACAAQAAAASAAUAAgAAAAIAAAASAAYAAgAAAAMAAAASAAcAAgAAAAQAAAAXAAkAAgABAAIAAAAXAAoAAgABAAMAAAAXAAsAAgABAAQAAAAaAAoAAgAHAAIAAAAaAAsAAgAHAAMAAAAYAA0AAgABAAAAAAAZAA0AAgABAAAAAAAaAA0AAgABAAAAAAAXAA0AAgABAAAAAAAOAP7/AgADAAEAAAAOAP//AgADAAIAAAAOAAAAAgACAAEAAAAOAAEAAgACAAEAAAAOAAIAAgACAAEAAAAOAAMAAgADAAMAAAAPAP7/AgABAAMAAAAPAP//AgABAAQAAAAQAP7/AgABAAMAAAAQAP//AgABAAQAAAARAP7/AgABAAMAAAARAP//AgABAAQAAAASAP7/AgABAAMAAAASAP//AgABAAQAAAATAP7/AgABAAMAAAATAP//AgABAAQAAAAUAP7/AgABAAMAAAAUAP//AgABAAQAAAAVAP7/AgAEAAEAAAAVAP//AgAEAAIAAAAVAAAAAgAAAAEAAAAVAAEAAgAAAAEAAAAVAAIAAgAAAAEAAAAVAAMAAgAEAAMAAAAOAP3/AgADAAAAAAAPAP3/AgABAAIAAAAPAAMAAgABAAAAAAAQAP3/AgABAAIAAAAQAAMAAgACAAAAAAARAP3/AgABAAIAAAASAP3/AgABAAIAAAASAAMAAgAAAAAAAAATAP3/AgABAAIAAAATAAMAAgABAAAAAAAUAP3/AgABAAIAAAAUAAMAAgABAAAAAAAVAP3/AgAEAAAAAAAQAAQAAgACAAEAAAASAAQAAgAAAAEAAAAVAAgAAgAAAAEAAAAVAAkAAgAAAAIAAAAVAAoAAgAAAAMAAAAVAAsAAgAAAAQAAAAWAAkAAgABAAIAAAAWAAoAAgABAAMAAAAWAAsAAgABAAQAAAAVAA0AAgABAAAAAAAWAA0AAgABAAAAAAAQAA0AAgABAAAAAAARAA0AAgABAAAAAAASAA0AAgABAAAAAAATAA0AAgABAAAAAAAUAA0AAgABAAAAAAAbAA0AAgABAAAAAAAcAA0AAgABAAAAAAAdAA0AAgAFAAgAAAAeAA0AAgAGAAgAAAAfAA0AAgAHAAgAAAAgAA0AAgABAAAAAAAhAA0AAgAEAAMAAAAhAAoAAgAAAAEAAAAhAAsAAgAAAAEAAAAhAAwAAgAAAAEAAAAOAAUAAgADAAAAAAAOAAYAAgADAAEAAAAOAAcAAgADAAIAAAAOAAgAAgACAAEAAAAOAAkAAgACAAEAAAAOAAoAAgACAAEAAAAOAAsAAgACAAEAAAAOAAwAAgACAAEAAAAOAA0AAgADAAMAAAAPAA0AAgABAAAAAAA=")
tile_set = ExtResource("2_jhjpb")

[node name="FurnitureLayer2" type="TileMapLayer" parent="."]
scale = Vector2(0.5, 0.5)
tile_map_data = PackedByteArray("AAAfAAUAAAAUABAAAAA1ABgAAAAUABAAAABCABQAAAAUAAQAAAAoABAAAAAUAAQAAAAcABAAAAAUAAQAAAAcAAYAAAAUAAQAAAA=")
tile_set = ExtResource("2_jhjpb")

[node name="FurnitureLayer1" type="TileMapLayer" parent="."]
scale = Vector2(0.5, 0.5)
tile_map_data = PackedByteArray("AAAcAAIAAAADAAEAAAAcABsAAAAUAAgAAAAnAAEAAAAMAAIAAAAnAAgAAAAGAAgAAAA6ABsAAAABAAwAAAAdAAYAAAASAAMAAAA1ABQAAAAMAAkAAAA1ABgAAAAMAA8AAABBABMAAAASAAMAAAA9ABQAAAAUAAQAAAAzABcAAAAUAAQAAAAxABcAAAASAAMAAABBABoAAAASAAMAAAApABAAAAASAAMAAAApAAUAAAAUAAQAAAAlAAAAAAASAAMAAAApAAIAAAASAAMAAAAqAAMAAAAUAAQAAAApABEAAAAUAAQAAAA=")
tile_set = ExtResource("2_jhjpb")

[node name="Board" parent="." instance=ExtResource("5_u3fao")]
position = Vector2(1511, 680)

[node name="Player" parent="." instance=ExtResource("1_kanab")]
position = Vector2(1171, -11)

[node name="Spawn" type="Marker2D" parent="." groups=["spawn"]]
unique_name_in_owner = true
position = Vector2(1953, 801)

[node name="InteractText" type="CanvasLayer" parent="."]
unique_name_in_owner = true
visible = false

[node name="InteractUi" parent="InteractText" instance=ExtResource("6_vty7d")]

[node name="BoardUi" type="CanvasLayer" parent="."]
unique_name_in_owner = true
visible = false

[node name="BoardOpen" parent="BoardUi" instance=ExtResource("7_vql73")]
anchors_preset = 4

[node name="Interactables" type="Node2D" parent="."]

[node name="Bed" type="Area2D" parent="Interactables"]
script = ExtResource("7_60327")
dialogue_system = NodePath("DialogueSystem")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Bed"]
position = Vector2(1016, 41)
shape = SubResource("RectangleShape2D_25qyn")

[node name="DialogueSystem" parent="Interactables/Bed" instance=ExtResource("7_8eaee")]
jsonsrc = "res://scripts/environment/interactables/observation/bed_interact.json"

[node name="Window" type="Area2D" parent="Interactables"]
script = ExtResource("7_60327")
dialogue_system = NodePath("DialogueSystem")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Window"]
position = Vector2(2362, 541)
shape = SubResource("CircleShape2D_60327")

[node name="DialogueSystem" parent="Interactables/Window" instance=ExtResource("7_8eaee")]
offset_left = 2175.0
offset_top = 605.0
offset_right = 2175.0
offset_bottom = 605.0
jsonsrc = "res://scripts/environment/interactables/observation/windows_interact.json"

[node name="Plants" type="Area2D" parent="Interactables"]
script = ExtResource("7_60327")
dialogue_system = NodePath("DialogueSystem")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(1328, 526)
shape = SubResource("CircleShape2D_25qyn")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(1359, 114)
shape = SubResource("CircleShape2D_v6w0j")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(943, 521)
shape = SubResource("CircleShape2D_momy1")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(968, 209)
shape = SubResource("CircleShape2D_kvtx8")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(2135, 635)
shape = SubResource("CircleShape2D_ygvd6")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(1637, 756)
shape = SubResource("CircleShape2D_y8gu5")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(2125, 838)
shape = SubResource("CircleShape2D_awgjw")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="Interactables/Plants"]
position = Vector2(1998, 654)
shape = SubResource("CircleShape2D_x02gy")

[node name="DialogueSystem" parent="Interactables/Plants" instance=ExtResource("7_8eaee")]
jsonsrc = "res://scripts/environment/interactables/observation/plant_interact.json"

[node name="TvCable" type="Area2D" parent="Interactables"]
script = ExtResource("7_60327")
dialogue_system = NodePath("DialogueSystem")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactables/TvCable"]
position = Vector2(1920, 662)
shape = SubResource("CapsuleShape2D_25qyn")

[node name="DialogueSystem" parent="Interactables/TvCable" instance=ExtResource("7_8eaee")]
jsonsrc = "res://scripts/environment/interactables/observation/tv_cable_interact.json"

[node name="FadeTransition" parent="." instance=ExtResource("9_60327")]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.6700696, 0.4822511, 0.2785764, 1)

[node name="DoorLight" type="PointLight2D" parent="."]
position = Vector2(1951.0001, 919.9851)
scale = Vector2(0.52089775, 0.4559402)
texture = ExtResource("10_25qyn")

[node name="BoardLight" type="PointLight2D" parent="."]
position = Vector2(1536.9999, 665)
scale = Vector2(0.714, 0.56899995)
color = Color(0.6451779, 0, 0.18687452, 1)
texture = ExtResource("10_25qyn")

[node name="ChangeScene" parent="." instance=ExtResource("11_v6w0j")]
position = Vector2(1949, 907)
scale = Vector2(2.1121159, 1.2800919)
target_scene = "outside"
spawn = true

[connection signal="body_exited" from="Board" to="Board" method="_on_body_exited"]
[connection signal="body_entered" from="Interactables/Bed" to="Interactables/Bed" method="_on_body_entered"]
[connection signal="body_exited" from="Interactables/Bed" to="Interactables/Bed" method="_on_body_exited"]
[connection signal="body_entered" from="Interactables/Window" to="Interactables/Window" method="_on_body_entered"]
[connection signal="body_exited" from="Interactables/Window" to="Interactables/Window" method="_on_body_exited"]
[connection signal="body_entered" from="Interactables/Plants" to="Interactables/Plants" method="_on_body_entered"]
[connection signal="body_exited" from="Interactables/Plants" to="Interactables/Plants" method="_on_body_exited"]
[connection signal="body_entered" from="Interactables/TvCable" to="Interactables/TvCable" method="_on_body_entered"]
[connection signal="body_exited" from="Interactables/TvCable" to="Interactables/TvCable" method="_on_body_exited"]
